{"version":3,"file":"docs.js","sources":["../src/pages/docs.tsx"],"sourcesContent":["import CircularProgress from \"@mui/material/CircularProgress\";\nimport Container from \"@mui/material/Container\";\nimport Grid from \"@mui/material/Grid\";\nimport { lazy, ReactChild, Suspense, useCallback } from \"react\";\nimport { Route, Routes, useNavigate, useParams } from \"react-router-dom\";\nimport { Background } from \"../components/background\";\nimport { Footer } from \"../components/footer\";\nimport { useComponentContext } from \"../hooks/use_component_context\";\nimport { documents$ } from \"../store/documents\";\n\nconst DocFetcher = lazy(() => import(\"../components/doc_fetcher\"));\nconst Content = lazy(() => import(\"../components/content\"));\nconst Navbar = lazy(() => import(\"../components/navbar\"));\n\nconst Project = () => {\n  const params = useParams();\n  return (\n    <>\n      {params.contentSlug && (\n        <Suspense\n          fallback={\n            <CircularProgress\n              sx={{ position: \"absolute\", top: \"50%\", left: \"50%\" }}\n            ></CircularProgress>\n          }\n        >\n          <Content></Content>\n        </Suspense>\n      )}\n    </>\n  );\n};\nconst Layout = ({ children }: { children: ReactChild }) => {\n  const params = useParams();\n  const navigate = useNavigate();\n  const onNodeSelect = useCallback(\n    (nodeId: string) => {\n      if (documents$.value.has(nodeId)) {\n        navigate(`/docs/${params.projectSlug}/${nodeId}`, {\n          replace: true,\n        });\n      }\n    },\n    [params]\n  );\n  const { Sidebar } = useComponentContext();\n  return (\n    <Background>\n      <DocFetcher mode=\"docs\"></DocFetcher>\n      <Navbar></Navbar>\n      <Container\n        maxWidth=\"lg\"\n        sx={{\n          paddingTop: 10,\n          marginBottom: 10,\n          flex: \"auto\",\n        }}\n      >\n        <Grid container spacing={2}>\n          <Sidebar\n            onProjectSelect={(projectSlug) => {\n              navigate(`/docs/${projectSlug}`, {\n                replace: true,\n              });\n            }}\n            onNodeSelect={onNodeSelect}\n            mode={\"docs\"}\n          ></Sidebar>\n          {children}\n        </Grid>\n      </Container>\n      <Footer></Footer>\n    </Background>\n  );\n};\n\nexport const Docs = () => {\n  return (\n    <Routes>\n      <Route\n        path=\"/:projectSlug\"\n        element={\n          <Layout>\n            <Project></Project>\n          </Layout>\n        }\n      ></Route>\n      <Route\n        path=\"/:projectSlug/:contentSlug\"\n        element={\n          <Layout>\n            <Project></Project>\n          </Layout>\n        }\n      ></Route>\n      <Route\n        path=\"/:projectSlug/:contentSlug/:headingIndex\"\n        element={\n          <Layout>\n            <Project></Project>\n          </Layout>\n        }\n      ></Route>\n      <Route\n        path=\"/\"\n        element={\n          <Layout>\n            <Project></Project>\n          </Layout>\n        }\n      ></Route>\n    </Routes>\n  );\n};\nexport default Docs;\n"],"names":["DocFetcher","lazy","Content","Navbar","Project","params","useParams","contentSlug","position","top","left","Layout","children","navigate","useNavigate","onNodeSelect","useCallback","nodeId","documents$","value","has","projectSlug","replace","Sidebar","useComponentContext","paddingTop","marginBottom","flex","Docs"],"mappings":";;;;;;;;AAUA,MAAMA,aAAaC,KAAK,MAAM,OAAO;AACrC,MAAMC,UAAUD,KAAK,MAAM,OAAO;AAClC,MAAME,SAASF,KAAK,MAAM,OAAO;AAEjC,MAAMG,UAAU,MAAM;QACdC,SAASC;;cAGVD,OAAOE,mCACL;MACC,8BACG;QACC,IAAI;AAAA,UAAEC,UAAU;AAAA,UAAYC,KAAK;AAAA,UAAOC,MAAM;AAAA;AAAA;AAAA,oCAIjD;;;;AAMX,MAAMC,SAAS,CAAC;AAAA,EAAEC;AAAAA,MAAyC;QACnDP,SAASC;QACTO,WAAWC;QACXC,eAAeC,YACnB,CAACC,WAAmB;QACdC,WAAWC,MAAMC,IAAIH,SAAS;eACtB,SAAQZ,OAAOgB,eAAeJ,UAAU;AAAA,QAChDK,SAAS;AAAA;AAAA;AAAA,KAIf,CAACjB;QAEG;AAAA,IAAEkB;AAAAA,MAAYC;8BAEjB;mCACE;MAAW,MAAK;AAAA,4BAChB,iCACA;MACC,UAAS;AAAA,MACT,IAAI;AAAA,QACFC,YAAY;AAAA,QACZC,cAAc;AAAA,QACdC,MAAM;AAAA;AAAA,qCAGP;QAAK;QAAU,SAAS;AAAA,uCACtB;UACC,iBAAkBN,iBAAgB;qBACtB,SAAQA,eAAe;AAAA,cAC/BC,SAAS;AAAA;AAAA;AAAA,UAGb;AAAA,UACA,MAAM;AAAA,YAEPV;AAAAA;AAAAA,4BAGJ;;;MAKMgB,OAAO,MAAM;8BAErB;mCACE;MACC,MAAK;AAAA,MACL,6BACG;sCACE;;4BAIN;MACC,MAAK;AAAA,MACL,6BACG;sCACE;;4BAIN;MACC,MAAK;AAAA,MACL,6BACG;sCACE;;4BAIN;MACC,MAAK;AAAA,MACL,6BACG;sCACE;;;;;;"}