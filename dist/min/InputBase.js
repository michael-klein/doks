import{h as _objectWithoutPropertiesLoose,d as jsxs,j as jsx,_ as _extends,I as GlobalStyles$1,E as defaultTheme,m as generateUtilityClass,n as generateUtilityClasses,o as styled,q as useThemeProps,r as composeClasses,l as clsx,g as capitalize,f as formatMuiErrorMessage}from"./main.js";import*as React from"react";import{b as useForkRef,j as ownerWindow,k as useEnhancedEffect,f as debounce}from"./styled.js";import{i as isHostComponent}from"./use-observable-state.js";const _excluded$1=["onChange","maxRows","minRows","style","value"];function getStyleValue(e,t){return parseInt(e[t],10)||0}const styles={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},TextareaAutosize=React.forwardRef((function(e,t){const{onChange:o,maxRows:n,minRows:r=1,style:a,value:s}=e,l=_objectWithoutPropertiesLoose(e,_excluded$1),{current:i}=React.useRef(null!=s),u=React.useRef(null),d=useForkRef(t,u),c=React.useRef(null),p=React.useRef(0),[m,f]=React.useState({}),h=React.useCallback((()=>{const t=u.current,o=ownerWindow(t).getComputedStyle(t);if("0px"===o.width)return;const a=c.current;a.style.width=o.width,a.value=t.value||e.placeholder||"x","\n"===a.value.slice(-1)&&(a.value+=" ");const s=o["box-sizing"],l=getStyleValue(o,"padding-bottom")+getStyleValue(o,"padding-top"),i=getStyleValue(o,"border-bottom-width")+getStyleValue(o,"border-top-width"),d=a.scrollHeight;a.value="x";const m=a.scrollHeight;let h=d;r&&(h=Math.max(Number(r)*m,h)),n&&(h=Math.min(Number(n)*m,h)),h=Math.max(h,m);const b=h+("border-box"===s?l+i:0),x=Math.abs(h-d)<=1;f((e=>p.current<20&&(b>0&&Math.abs((e.outerHeightStyle||0)-b)>1||e.overflow!==x)?(p.current+=1,{overflow:x,outerHeightStyle:b}):e))}),[n,r,e.placeholder]);React.useEffect((()=>{const e=debounce((()=>{p.current=0,h()})),t=ownerWindow(u.current);let o;return t.addEventListener("resize",e),"undefined"!=typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(u.current)),()=>{e.clear(),t.removeEventListener("resize",e),o&&o.disconnect()}}),[h]),useEnhancedEffect((()=>{h()})),React.useEffect((()=>{p.current=0}),[s]);return jsxs(React.Fragment,{children:[jsx("textarea",_extends({value:s,onChange:e=>{p.current=0,i||h(),o&&o(e)},ref:d,rows:r,style:_extends({height:m.outerHeightStyle,overflow:m.overflow?"hidden":null},a)},l)),jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:c,tabIndex:-1,style:_extends({},styles.shadow,a,{padding:0})})]})}));var TextareaAutosize$1=TextareaAutosize;function hasValue(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function isFilled(e,t=!1){return e&&(hasValue(e.value)&&""!==e.value||t&&hasValue(e.defaultValue)&&""!==e.defaultValue)}function isAdornedStart(e){return e.startAdornment}const FormControlContext=React.createContext();var FormControlContext$1=FormControlContext;function useFormControl(){return React.useContext(FormControlContext$1)}function formControlState({props:e,states:t,muiFormControl:o}){return t.reduce(((t,n)=>(t[n]=e[n],o&&void 0===e[n]&&(t[n]=o[n]),t)),{})}function GlobalStyles(e){return jsx(GlobalStyles$1,_extends({},e,{defaultTheme:defaultTheme}))}function getInputBaseUtilityClass(e){return generateUtilityClass("MuiInputBase",e)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var inputBaseClasses$1=inputBaseClasses;const _excluded=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],rootOverridesResolver=(e,t)=>{const{ownerState:o}=e;return[t.root,o.formControl&&t.formControl,o.startAdornment&&t.adornedStart,o.endAdornment&&t.adornedEnd,o.error&&t.error,"small"===o.size&&t.sizeSmall,o.multiline&&t.multiline,o.color&&t[`color${capitalize(o.color)}`],o.fullWidth&&t.fullWidth,o.hiddenLabel&&t.hiddenLabel]},inputOverridesResolver=(e,t)=>{const{ownerState:o}=e;return[t.input,"small"===o.size&&t.inputSizeSmall,o.multiline&&t.inputMultiline,"search"===o.type&&t.inputTypeSearch,o.startAdornment&&t.inputAdornedStart,o.endAdornment&&t.inputAdornedEnd,o.hiddenLabel&&t.inputHiddenLabel]},useUtilityClasses=e=>{const{classes:t,color:o,disabled:n,error:r,endAdornment:a,focused:s,formControl:l,fullWidth:i,hiddenLabel:u,multiline:d,size:c,startAdornment:p,type:m}=e,f={root:["root",`color${capitalize(o)}`,n&&"disabled",r&&"error",i&&"fullWidth",s&&"focused",l&&"formControl","small"===c&&"sizeSmall",d&&"multiline",p&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel"],input:["input",n&&"disabled","search"===m&&"inputTypeSearch",d&&"inputMultiline","small"===c&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",a&&"inputAdornedEnd"]};return composeClasses(f,getInputBaseUtilityClass,t)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})((({theme:e,ownerState:t})=>_extends({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:e.palette.text.disabled,cursor:"default"}},t.multiline&&_extends({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"}))),InputBaseComponent=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})((({theme:e,ownerState:t})=>{const o="light"===e.palette.mode,n={color:"currentColor",opacity:o?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},a={opacity:o?.42:.5};return _extends({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:e.palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield",WebkitAppearance:"textfield"})})),inputGlobalStyles=jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=React.forwardRef((function(e,t){const o=useThemeProps({props:e,name:"MuiInputBase"}),{"aria-describedby":n,autoComplete:r,autoFocus:a,className:s,components:l={},componentsProps:i={},defaultValue:u,disabled:d,endAdornment:c,fullWidth:p=!1,id:m,inputComponent:f="input",inputProps:h={},inputRef:b,maxRows:x,minRows:y,multiline:C=!1,name:R,onBlur:g,onChange:v,onClick:w,onFocus:S,onKeyDown:z,onKeyUp:F,placeholder:A,readOnly:B,renderSuffix:k,rows:E,startAdornment:I,type:_="text",value:$}=o,W=_objectWithoutPropertiesLoose(o,_excluded),j=null!=h.value?h.value:$,{current:M}=React.useRef(null!=j),T=React.useRef(),L=React.useCallback((e=>{}),[]),N=useForkRef(h.ref,L),H=useForkRef(b,N),V=useForkRef(T,H),[O,P]=React.useState(!1),U=useFormControl(),G=formControlState({props:o,muiFormControl:U,states:["color","disabled","error","hiddenLabel","size","required","filled"]});G.focused=U?U.focused:O,React.useEffect((()=>{!U&&d&&O&&(P(!1),g&&g())}),[U,d,O,g]);const K=U&&U.onFilled,D=U&&U.onEmpty,q=React.useCallback((e=>{isFilled(e)?K&&K():D&&D()}),[K,D]);useEnhancedEffect((()=>{M&&q({value:j})}),[j,q,M]);React.useEffect((()=>{q(T.current)}),[]);let Z=f,J=h;C&&"input"===Z&&(J=_extends(E?{type:void 0,minRows:E,maxRows:E}:{type:void 0,maxRows:x,minRows:y},J),Z=TextareaAutosize$1);React.useEffect((()=>{U&&U.setAdornedStart(Boolean(I))}),[U,I]);const Q=_extends({},o,{color:G.color||"primary",disabled:G.disabled,endAdornment:c,error:G.error,focused:G.focused,formControl:U,fullWidth:p,hiddenLabel:G.hiddenLabel,multiline:C,size:G.size,startAdornment:I,type:_}),X=useUtilityClasses(Q),Y=l.Root||InputBaseRoot,ee=i.root||{},te=l.Input||InputBaseComponent;return J=_extends({},J,i.input),jsxs(React.Fragment,{children:[inputGlobalStyles,jsxs(Y,_extends({},ee,!isHostComponent(Y)&&{ownerState:_extends({},Q,ee.ownerState)},{ref:t,onClick:e=>{T.current&&e.currentTarget===e.target&&T.current.focus(),w&&w(e)}},W,{className:clsx(X.root,ee.className,s),children:[I,jsx(FormControlContext$1.Provider,{value:null,children:jsx(te,_extends({ownerState:Q,"aria-invalid":G.error,"aria-describedby":n,autoComplete:r,autoFocus:a,defaultValue:u,disabled:G.disabled,id:m,onAnimationStart:e=>{q("mui-auto-fill-cancel"===e.animationName?T.current:{value:"x"})},name:R,placeholder:A,readOnly:B,required:G.required,rows:E,value:j,onKeyDown:z,onKeyUp:F,type:_},J,!isHostComponent(te)&&{as:Z,ownerState:_extends({},Q,J.ownerState)},{ref:V,className:clsx(X.input,J.className,h.className),onBlur:e=>{g&&g(e),h.onBlur&&h.onBlur(e),U&&U.onBlur?U.onBlur(e):P(!1)},onChange:(e,...t)=>{if(!M){const t=e.target||T.current;if(null==t)throw new Error(formatMuiErrorMessage(1));q({value:t.value})}h.onChange&&h.onChange(e,...t),v&&v(e,...t)},onFocus:e=>{G.disabled?e.stopPropagation():(S&&S(e),h.onFocus&&h.onFocus(e),U&&U.onFocus?U.onFocus(e):P(!0))}}))}),c,k?k(_extends({},G,{startAdornment:I})):null]}))]})}));var InputBase$1=InputBase;export{FormControlContext$1 as F,InputBaseRoot as I,isFilled as a,InputBaseComponent as b,inputOverridesResolver as c,InputBase$1 as d,inputBaseClasses$1 as e,formControlState as f,isAdornedStart as i,rootOverridesResolver as r,useFormControl as u};