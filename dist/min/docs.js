import{lazy,useEffect,Suspense,useCallback,Fragment as Fragment$1}from"react";import{c as createSvgIcon,i as interopRequireDefault,r as require$$2,d as default_1$1,u as useObservableState,a as contents$,b as documents$,C as Container}from"./documents.js";import{j as jsx,d as jsxs,F as Fragment,C as CircularProgress}from"./main.js";import{B as Button,G as Grid}from"./Button.js";import{R as Routes,a as Route,u as useParams,b as useNavigate}from"./doks.js";import"rxjs";import"rxjs/operators";import"react-dom";var KeyboardArrowUp={},_interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(KeyboardArrowUp,"__esModule",{value:!0});var default_1=KeyboardArrowUp.default=void 0,_createSvgIcon=_interopRequireDefault(createSvgIcon),_jsxRuntime=require$$2,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");default_1=KeyboardArrowUp.default=_default;const StyledFooter=default_1$1("footer")((({theme:e})=>({background:e.palette.primary.light,padding:20,display:"flex",justifyContent:"flex-end"}))),UpButton=default_1$1(Button)((({theme:e})=>({color:e.palette.primary.dark}))),Footer=()=>jsx(StyledFooter,{children:jsxs(UpButton,{onClick:()=>{window.scrollTo(0,0)},children:[jsx(default_1,{}),"up"]})}),DocFetcher=lazy((()=>import("./doc_fetcher.js"))),Sidebar=lazy((()=>import("./sidebar.js"))),Content=lazy((()=>import("./content.js"))),Navbar=lazy((()=>import("./navbar.js"))),Project=()=>{const e=useParams(),t=useNavigate(),r=useObservableState(contents$);return useEffect((()=>{!e.projectSlug&&r.size>0&&t(`/docs/${Array.from(r.keys())[0]}`,{replace:!0})}),[e,r]),jsx(Fragment,{children:e.contentSlug&&jsx(Suspense,{fallback:jsx(CircularProgress,{sx:{position:"absolute",top:"50%",left:"50%"}}),children:jsx(Content,{})})})},Layout=({children:e})=>{const t=useParams(),r=useNavigate(),o=useCallback((e=>{documents$.value.has(e)&&r(`/docs/${t.projectSlug}/${e}`,{replace:!0})}),[t]);return jsxs(Fragment$1,{children:[jsx(DocFetcher,{mode:"docs"}),jsx(Navbar,{}),jsx(Container,{maxWidth:"lg",sx:{marginTop:10,marginBottom:10,flex:"auto"},children:jsxs(Grid,{container:!0,spacing:2,children:[jsx(Sidebar,{onProjectSelect:e=>{r(`/docs/${e}`,{replace:!0})},onNodeSelect:o,mode:"docs"}),e]})}),jsx(Footer,{})]})},Docs=()=>jsxs(Routes,{children:[jsx(Route,{path:"/:projectSlug",element:jsx(Layout,{children:jsx(Project,{})})}),jsx(Route,{path:"/:projectSlug/:contentSlug",element:jsx(Layout,{children:jsx(Project,{})})}),jsx(Route,{path:"/",element:jsx(Layout,{children:jsx(Project,{})})})]});export{Docs,Docs as default};