import{lazy,Suspense,useCallback}from"react";import{R as Routes,a as Route,u as useParams,b as useNavigate,d as documents$,c as useComponentContext,B as Background,F as Footer}from"./doks.js";import{i as jsxs,j as jsx,F as Fragment,G as CircularProgress}from"./main.js";import{C as Container}from"./Container.js";import{G as Grid}from"./Grid.js";import"react-dom";import"rxjs";import"rxjs/operators";const DocFetcher=lazy((()=>import("./doc_fetcher.js"))),Content=lazy((()=>import("./content.js"))),Navbar=lazy((()=>import("./navbar.js"))),Project=()=>{const e=useParams();return jsx(Fragment,{children:e.contentSlug&&jsx(Suspense,{fallback:jsx(CircularProgress,{sx:{position:"absolute",top:"50%",left:"50%"}}),children:jsx(Content,{})})})},Layout=({children:e})=>{const s=useParams(),o=useNavigate(),t=useCallback((e=>{documents$.value.has(e)&&o(`/docs/${s.projectSlug}/${e}`,{replace:!0})}),[s]),{Sidebar:r}=useComponentContext();return jsxs(Background,{children:[jsx(DocFetcher,{mode:"docs"}),jsx(Navbar,{}),jsx(Container,{maxWidth:"lg",sx:{paddingTop:10,marginBottom:10,flex:"auto"},children:jsxs(Grid,{container:!0,spacing:2,children:[jsx(r,{onProjectSelect:e=>{o(`/docs/${e}`,{replace:!0})},onNodeSelect:t,mode:"docs"}),e]})}),jsx(Footer,{})]})},Docs=()=>jsxs(Routes,{children:[jsx(Route,{path:"/:projectSlug",element:jsx(Layout,{children:jsx(Project,{})})}),jsx(Route,{path:"/:projectSlug/:contentSlug",element:jsx(Layout,{children:jsx(Project,{})})}),jsx(Route,{path:"/:projectSlug/:contentSlug/:headingIndex",element:jsx(Layout,{children:jsx(Project,{})})}),jsx(Route,{path:"/",element:jsx(Layout,{children:jsx(Project,{})})})]});export{Docs,Docs as default};