import{h as createSvgIcon,i as interopRequireDefault,r as require$$2,Q as Paper,S as InputBase,U as LinearProgress,V as ValueSubject,f as useObservableAndState,u as useParams,W as useLocation,X as useColorModeContext,c as useComponentContext,C as Box,Y as Typography,Z as Link,_ as Tooltip,z as useObservableState,d as documents$,b as useNavigate,$ as codeTheme$,a0 as queuedDocuments$,a1 as fetchingDocuments$}from"./doks.js";import{g as generateUtilityClass,a as generateUtilityClasses,q as styled,c as capitalize,_ as _extends,r as useThemeProps,b as _objectWithoutPropertiesLoose,e as composeClasses,j as jsx,h as clsx,F as Fragment,i as jsxs}from"./main.js";import{map,combineLatest}from"rxjs";import*as React from"react";import"react-dom";import"rxjs/operators";var Brightness4={},_interopRequireDefault$5=interopRequireDefault.exports;Object.defineProperty(Brightness4,"__esModule",{value:!0});var default_1$5=Brightness4.default=void 0,_createSvgIcon$5=_interopRequireDefault$5(createSvgIcon),_jsxRuntime$5=require$$2,_default$5=(0,_createSvgIcon$5.default)((0,_jsxRuntime$5.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"}),"Brightness4");default_1$5=Brightness4.default=_default$5;var Brightness7={},_interopRequireDefault$4=interopRequireDefault.exports;Object.defineProperty(Brightness7,"__esModule",{value:!0});var default_1$4=Brightness7.default=void 0,_createSvgIcon$4=_interopRequireDefault$4(createSvgIcon),_jsxRuntime$4=require$$2,_default$4=(0,_createSvgIcon$4.default)((0,_jsxRuntime$4.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4z"}),"Brightness7");default_1$4=Brightness7.default=_default$4;var Code={},_interopRequireDefault$3=interopRequireDefault.exports;Object.defineProperty(Code,"__esModule",{value:!0});var default_1$3=Code.default=void 0,_createSvgIcon$3=_interopRequireDefault$3(createSvgIcon),_jsxRuntime$3=require$$2,_default$3=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");default_1$3=Code.default=_default$3;var Edit={},_interopRequireDefault$2=interopRequireDefault.exports;Object.defineProperty(Edit,"__esModule",{value:!0});var default_1$2=Edit.default=void 0,_createSvgIcon$2=_interopRequireDefault$2(createSvgIcon),_jsxRuntime$2=require$$2,_default$2=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");default_1$2=Edit.default=_default$2;var PostAdd={},_interopRequireDefault$1=interopRequireDefault.exports;Object.defineProperty(PostAdd,"__esModule",{value:!0});var default_1$1=PostAdd.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(createSvgIcon),_jsxRuntime$1=require$$2,_default$1=(0,_createSvgIcon$1.default)([(0,_jsxRuntime$1.jsx)("path",{d:"M17 19.22H5V7h7V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-7h-2v7.22z"},"0"),(0,_jsxRuntime$1.jsx)("path",{d:"M19 2h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V7h3V5h-3V2zM7 9h8v2H7zm0 3v2h8v-2h-3zm0 3h8v2H7z"},"1")],"PostAdd");default_1$1=PostAdd.default=_default$1;var Search={},_interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(Search,"__esModule",{value:!0});var default_1=Search.default=void 0,_createSvgIcon=_interopRequireDefault(createSvgIcon),_jsxRuntime=require$$2,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");function getAppBarUtilityClass(e){return generateUtilityClass("MuiAppBar",e)}default_1=Search.default=_default,generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const _excluded$1=["className","color","enableColorOnDark","position"],useUtilityClasses$1=e=>{const{color:t,position:a,classes:r}=e,o={root:["root",`color${capitalize(t)}`,`position${capitalize(a)}`]};return composeClasses(o,getAppBarUtilityClass,r)},AppBarRoot=styled(Paper,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`position${capitalize(a.position)}`],t[`color${capitalize(a.color)}`]]}})((({theme:e,ownerState:t})=>{const a="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return _extends({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},"default"===t.color&&{backgroundColor:a,color:e.palette.getContrastText(a)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&_extends({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"}))})),AppBar=React.forwardRef((function(e,t){const a=useThemeProps({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:i=!1,position:s="fixed"}=a,n=_objectWithoutPropertiesLoose(a,_excluded$1),l=_extends({},a,{color:o,position:s,enableColorOnDark:i}),u=useUtilityClasses$1(l);return jsx(AppBarRoot,_extends({square:!0,component:"header",ownerState:l,elevation:4,className:clsx(u.root,r,"fixed"===s&&"mui-fixed"),ref:t},n))}));var AppBar$1=AppBar;function getToolbarUtilityClass(e){return generateUtilityClass("MuiToolbar",e)}generateUtilityClasses("MuiToolbar",["root","gutters","regular","dense"]);const _excluded=["className","component","disableGutters","variant"],useUtilityClasses=e=>{const{classes:t,disableGutters:a,variant:r}=e;return composeClasses({root:["root",!a&&"gutters",r]},getToolbarUtilityClass,t)},ToolbarRoot=styled("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,!a.disableGutters&&t.gutters,t[a.variant]]}})((({theme:e,ownerState:t})=>_extends({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48})),(({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar)),Toolbar=React.forwardRef((function(e,t){const a=useThemeProps({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:i=!1,variant:s="regular"}=a,n=_objectWithoutPropertiesLoose(a,_excluded),l=_extends({},a,{component:o,disableGutters:i,variant:s}),u=useUtilityClasses(l);return jsx(ToolbarRoot,_extends({as:o,className:clsx(u.root,r),ref:t,ownerState:l},n))}));var Toolbar$1=Toolbar;const syntaxThemes=["a11yDark","a11yLight","agate","anOldHope","androidstudio","arduinoLight","arta","ascetic","atelierCaveDark","atelierCaveLight","atelierDuneDark","atelierDuneLight","atelierEstuaryDark","atelierEstuaryLight","atelierForestDark","atelierForestLight","atelierHeathDark","atelierHeathLight","atelierLakesideDark","atelierLakesideLight","atelierPlateauDark","atelierPlateauLight","atelierSavannaDark","atelierSavannaLight","atelierSeasideDark","atelierSeasideLight","atelierSulphurpoolDark","atelierSulphurpoolLight","atomOneDark","atomOneDarkReasonable","atomOneLight","brownPaper","codepenEmbed","colorBrewer","darcula","dark","defaultStyle","docco","dracula","far","foundation","github","githubGist","gml","googlecode","gradientDark","gradientLight","grayscale","gruvboxDark","gruvboxLight","hopscotch","hybrid","idea","irBlack","isblEditorDark","isblEditorLight","kimbieDark","kimbieLight","lightfair","lioshi","magula","monoBlue","monokai","monokaiSublime","nightOwl","nnfx","nnfxDark","nord","obsidian","ocean","paraisoDark","paraisoLight","pojoaque","purebasic","qtcreatorDark","qtcreatorLight","railscasts","rainbow","routeros","schoolBook","shadesOfPurple","solarizedDark","solarizedLight","srcery","stackoverflowDark","stackoverflowLight","sunburst","tomorrow","tomorrowNight","tomorrowNightBlue","tomorrowNightBright","tomorrowNightEighties","vs","vs2015","xcode","xt256","zenburn"],StyledInputBase=styled(InputBase)((({theme:e})=>({color:"inherit","& .MuiInputBase-input":{padding:e.spacing(1,1,1,0),paddingLeft:`calc(1em + ${e.spacing(4)})`,transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("sm")]:{width:"12ch"}}}))),SearchProgress=styled(LinearProgress)((({theme:e})=>({position:"fixed",top:0,right:0,left:0}))),showSearch$=new ValueSubject(!1),FavMenu=()=>{var e;const[t]=useObservableState((()=>documents$.pipe(map((e=>Array.from(e.values()).filter((e=>e.isFavourite))))))),a=useNavigate(),{NavbarMenu:r,NavbarFavButton:o}=useComponentContext();return jsx(r,{tooltip:"Favourites",items:null!=(e=null==t?void 0:t.map((e=>({key:e.slug,label:e.name,onClick:()=>(e=>{a(`/docs/${e.projectSlug}/${e.slug}`,{replace:!0})})(e)}))))?e:[],children:jsx(o,{})})},SyntaxMenu=()=>{var e;const{NavbarMenu:t}=useComponentContext();return jsx(t,{tooltip:"Syntax theme",items:null!=(e=syntaxThemes.map((e=>({key:e,label:e,onClick:()=>{codeTheme$.next(e)}}))))?e:[],children:jsx(default_1$3,{})})},NavbarTitle=()=>jsx(Fragment,{children:"documentation"}),NavAppBar=styled(AppBar$1)((({theme:e})=>({"a, a:link, a:visited, a:hover, a:active":{color:e.palette.getContrastText(e.palette.primary.main),textDecoration:"none"},"a:hover":{textDecoration:"underline"}})));function Navbar(){const[e]=useObservableAndState((()=>combineLatest(queuedDocuments$,fetchingDocuments$).pipe(map((([e,t])=>e.docs.size>0||t.size>0))))),t=useParams(),a=useLocation(),{mode:r,toggleColorMode:o}=useColorModeContext(),{NavbarTitle:i,SearchProgress:s,NavbarButton:n,SearchIconWrapper:l,SearchInputWrapper:u,SearchOverlay:c}=useComponentContext();return jsxs(Box,{sx:{flex:0,position:"sticky",top:0,zIndex:1e3},children:[e&&jsx(s,{}),jsx(NavAppBar,{position:"static",children:jsxs(Toolbar$1,{children:[jsx(Typography,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}},children:jsx(Link,{to:"/docs/",children:jsx(i,{})})}),t.contentSlug&&a.pathname.startsWith("/docs")&&jsx(Tooltip,{title:"edit current document",children:jsx(Link,{to:`/editor/${t.projectSlug}/${t.contentSlug}`,children:jsx(n,{"aria-label":"editor",children:jsx(default_1$2,{})})})}),jsx(Tooltip,{title:"create document",children:jsx(Link,{to:"/editor/"+t.projectSlug,children:jsx(n,{"aria-label":"editor",children:jsx(default_1$1,{})})})}),jsx(SyntaxMenu,{}),jsx(FavMenu,{}),jsx(n,{"aria-label":"toggle dark mode",onClick:o,children:jsx("light"===r?default_1$5:default_1$4,{sx:{fontSize:20}})}),jsxs(u,{sx:{cursor:"text"},onClick:e=>{e.currentTarget.blur(),showSearch$.next(!0)},children:[jsx(l,{children:jsx(default_1,{})}),jsx(StyledInputBase,{onFocus:e=>{e.target.blur(),showSearch$.next(!0)},placeholder:"Search…",inputProps:{"aria-label":"search"}})]})]})}),jsx(c,{show$:showSearch$})]})}export{NavbarTitle,SearchProgress,Navbar as default};