import*as React from"react";import React__default,{useRef,useState,useLayoutEffect,useEffect,useDebugValue}from"react";import{a as useTheme$1,E as defaultTheme,h as _objectWithoutPropertiesLoose,m as generateUtilityClass,n as generateUtilityClasses,o as styled,_ as _extends,y as alpha,q as useThemeProps,r as composeClasses,j as jsx,l as clsx}from"./main.js";import{_ as _inheritsLoose,T as TransitionGroupContext}from"./jsx-runtime_commonjs-proxy.js";import ReactDOM__default from"react-dom";import{Subject,BehaviorSubject,isObservable}from"rxjs";import"rxjs/operators";function isHostComponent(e){return"string"==typeof e}function useTheme(){return useTheme$1(defaultTheme)}var config={disabled:!1},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=EXITED,r.appearStatus=ENTERING):o=ENTERED:o=t.unmountOnExit||t.mountOnEnter?UNMOUNTED:EXITED,r.state={status:o},r.nextCallback=null,r}_inheritsLoose(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===UNMOUNTED?{status:EXITED}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ENTERING&&n!==ENTERED&&(t=ENTERING):n!==ENTERING&&n!==ENTERED||(t=EXITING)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ENTERING?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[ReactDOM__default.findDOMNode(this),r],a=o[0],i=o[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||config.disabled?this.safeSetState({status:ENTERED},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,i),this.safeSetState({status:ENTERING},(function(){t.props.onEntering(a,i),t.onTransitionEnd(u,(function(){t.safeSetState({status:ENTERED},(function(){t.props.onEntered(a,i)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ReactDOM__default.findDOMNode(this);t&&!config.disabled?(this.props.onExit(r),this.safeSetState({status:EXITING},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:EXITED},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:EXITED},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ReactDOM__default.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],i=o[1];this.props.addEndListener(a,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===UNMOUNTED)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=_objectWithoutPropertiesLoose(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React__default.createElement(TransitionGroupContext.Provider,{value:null},"function"==typeof n?n(e,r):React__default.cloneElement(React__default.Children.only(n),r))},t}(React__default.Component);function noop(){}Transition.contextType=TransitionGroupContext,Transition.propTypes={},Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop,onEntering:noop,onEntered:noop,onExit:noop,onExiting:noop,onExited:noop},Transition.UNMOUNTED=UNMOUNTED,Transition.EXITED=EXITED,Transition.ENTERING=ENTERING,Transition.ENTERED=ENTERED,Transition.EXITING=EXITING;var Transition$1=Transition;function getPaperUtilityClass(e){return generateUtilityClass("MuiPaper",e)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded=["className","component","elevation","square","variant"],getOverlayAlpha=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)},useUtilityClasses=e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return composeClasses({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},getPaperUtilityClass,o)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((({theme:e,ownerState:t})=>_extends({backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${e.palette.divider}`},"elevation"===t.variant&&_extends({boxShadow:e.shadows[t.elevation]},"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha(t.elevation))}, ${alpha("#fff",getOverlayAlpha(t.elevation))})`})))),Paper=React.forwardRef((function(e,t){const n=useThemeProps({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:a=1,square:i=!1,variant:s="elevation"}=n,u=_objectWithoutPropertiesLoose(n,_excluded),l=_extends({},n,{component:o,elevation:a,square:i,variant:s}),c=useUtilityClasses(l);return jsx(PaperRoot,_extends({as:o,ownerState:l,className:clsx(c.root,r),ref:t},u))}));var Paper$1=Paper;const reflow=e=>e.scrollTop;function getTransitionProps(e,t){var n,r;const{timeout:o,easing:a,style:i={}}=e;return{duration:null!=(n=i.transitionDuration)?n:"number"==typeof o?o:o[t.mode]||0,easing:null!=(r=i.transitionTimingFunction)?r:"object"==typeof a?a[t.mode]:a,delay:i.transitionDelay}}function getEmptySubject(){return new Subject}function useRefFn(e){var t=useRef(!0),n=useRef(null);return t.current&&(t.current=!1,n.current=e()),n}function useForceUpdate(){var e=useState(0)[1];return useRef((function(){return e(increment)})).current}function increment(e){return(e+1)%1e6}var useIsomorphicLayoutEffect="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?useLayoutEffect:useEffect;function useObservableInternal(e,t,n){if(!n)return useRefFn(t).current;var r=useRefFn((function(){return new BehaviorSubject(n)})),o=useRefFn((function(){return t(r.current)})),a=useRef(!0);return e((function(){a.current?a.current=!1:r.current.next(n)}),n),o.current}function useObservable(e,t){return useObservableInternal(useEffect,e,t)}function useSubscriptionInternal(e,t){var n=useForceUpdate(),r=useRef(t),o=useRef(),a=useRef();if(useIsomorphicLayoutEffect((function(){r.current=t})),e((function(){o.current=null;var e=r.current[0],t=e.subscribe({next:function(t){var n;if(e===r.current[0]){var o=(null===(n=r.current[1])||void 0===n?void 0:n.next)||r.current[1];return o?o(t):void 0}},error:function(t){var a;if(e===r.current[0]){var i=(null===(a=r.current[1])||void 0===a?void 0:a.error)||r.current[2];if(i)return o.current=null,i(t);o.current=t,n()}},complete:function(){var t;if(e===r.current[0]){var n=(null===(t=r.current[1])||void 0===t?void 0:t.complete)||r.current[3];return n?n():void 0}}});return a.current=t,function(){t.unsubscribe()}}),[t[0]]),o.current)throw o.current;return a}function useSubscription(e,t,n,r){return useSubscriptionInternal(useEffect,[e,t,n,r])}function useObservableStateInternal(e,t,n){if(isObservable(t)){var r=t,o=useState((function(){return r instanceof BehaviorSubject||void 0!==r.value?r.value:"function"==typeof n?n():n})),a=o[0],i=o[1];return e(r,i),useDebugValue(a),a}var s=t,u=useState(n),l=u[0],c=(i=u[1],useRefFn(getEmptySubject)),p=useRefFn((function(){return s(c.current,l)})).current,f=useRef((function(e){return c.current.next(e)})).current;return e(p,i),useDebugValue(l),[l,f]}function useObservableState(e,t){return useObservableStateInternal(useSubscription,e,t)}export{Paper$1 as P,Transition$1 as T,useObservable as a,useTheme as b,useSubscriptionInternal as c,useIsomorphicLayoutEffect as d,useObservableStateInternal as e,getTransitionProps as g,isHostComponent as i,reflow as r,useObservableState as u};